# Docs at `man 5 sway`

## Outputs (monitors)

output * bg /home/willnorris/.config/wallpapers/current fill
output eDP-1 {
  resolution 2880x1920@120Hz
  scale 2
  position 0,0
}
output DP-3 {
  resolution 3840x2160@60Hz
  scale 2
  # position on right edge of eDP-1, raised up a bit
  position 1440,-800
}

exec swayidle -w
exec swayosd-server
exec waybar
exec swaync
exec easyeffects --gapplication-service -w

# assign workspaces to outputs
# Assign 1 and 10 first so that each output has at least one workspace
workspace 1 output DP-3 eDP-1
workspace 10 output eDP-1
workspace 2 output DP-3 eDP-1
workspace 3 output DP-3 eDP-1
workspace 4 output DP-3 eDP-1
workspace 5 output DP-3 eDP-1

# start apps on specific workspaces
workspace 1
exec kitty
workspace 2
exec firefox
workspace 1

## Look and feel

default_border pixel

# Move windows with Alt + left mouse button.
# Resize windows with Alt + right mouse button.
floating_modifier Alt normal

# Move mouse to active window, which helps mitigate palm touches.
mouse_warping container

## Input

input "type:keyboard" {
  xkb_layout us
  # options at `man xkeyboard-config`
  # caps lock → ctrl, right ctrl → compose
  xkb_options ctrl:nocaps,compose:rctrl
}
input "type:pointer" {
  natural_scroll enabled
}
input "type:touchpad" {
  natural_scroll enabled
  click_method clickfinger
  tap_button_map lrm
  dwt enabled
  tap enabled
}
seat seat0 {
  hide_cursor when-typing enable
}


## Key bindings

bindsym {
  # Kill focused window
  Alt+Shift+q kill
  Alt+q exec notify-send "Kill Container" "Alt + Shift + Q" -e \
    -t 1500 -h string:x-canonical-private-synchronous:sway-kill

  # Open launcher; pipe to swaymsg to open on correct workspace.
  Alt+Space exec ulauncher | xargs swaymsg exec --

  # Media keys
  XF86AudioRaiseVolume  exec volume up
  XF86AudioLowerVolume  exec volume down
  XF86AudioMute         exec volume mute
  XF86AudioPlay         exec playerctl play-pause
  XF86AudioPrev         exec playerctl previous
  XF86AudioNext         exec playerctl next
  XF86MonBrightnessUp   exec backlight up
  XF86MonBrightnessDown exec backlight down

  # Reload the configuration file
  Alt+Shift+c reload

  Alt+Super+Shift+l exec swaylock -f
  Alt+Shift+e exec wlogout
  XF86PowerOff exec wlogout

  Alt+Equal exec swaync-client -t

  Print exec grimshot --notify save output
  Alt+Print exec grimshot --notify save window
  Shift+Print exec grimshot --notify save area
}

# Windows and workspaces
bindsym {
  # Change focused window
  Alt+h focus left
  Alt+j focus down
  Alt+k focus up
  Alt+l focus right

  # Move the focused window
  Alt+Shift+h move left
  Alt+Shift+j move down
  Alt+Shift+k move up
  Alt+Shift+l move right

  # Switch to workspace
  Alt+1 workspace number 1
  Alt+2 workspace number 2
  Alt+3 workspace number 3
  Alt+4 workspace number 4
  Alt+5 workspace number 5
  Alt+6 workspace number 6
  Alt+7 workspace number 7
  Alt+8 workspace number 8
  Alt+9 workspace number 9
  Alt+0 workspace number 10

  # Move focused container to workspace, and keep focus
  Alt+Shift+1 [con_id=__focused__] move container to workspace number 1, focus
  Alt+Shift+2 [con_id=__focused__] move container to workspace number 2, focus
  Alt+Shift+3 [con_id=__focused__] move container to workspace number 3, focus
  Alt+Shift+4 [con_id=__focused__] move container to workspace number 4, focus
  Alt+Shift+5 [con_id=__focused__] move container to workspace number 5, focus
  Alt+Shift+6 [con_id=__focused__] move container to workspace number 6, focus
  Alt+Shift+7 [con_id=__focused__] move container to workspace number 7, focus
  Alt+Shift+8 [con_id=__focused__] move container to workspace number 8, focus
  Alt+Shift+9 [con_id=__focused__] move container to workspace number 9, focus
  Alt+Shift+0 [con_id=__focused__] move container to workspace number 10, focus

  # Move the currently focused window to the scratchpad
  Alt+Shift+Minus move scratchpad

  # Show the next scratchpad window or hide the focused scratchpad window.
  # If there are multiple scratchpad windows, this command cycles through them.
  Alt+Minus scratchpad show

  # Move workspaces between monitors
  Alt+Super+h move workspace to output left
  Alt+Super+l move workspace to output right
  Alt+Super+1 move workspace to output eDP-1
  Alt+Super+2 move workspace to output DP-3
}

# Layout stuff
bindsym {
  # You can "split" the current object of your focus with
  # Alt+b or Alt+v, for horizontal and vertical splits
  # respectively.
  Alt+b splith
  Alt+v splitv

  # Switch the current container between different layout styles
  Alt+s layout stacking
  Alt+w layout tabbed
  Alt+e layout toggle split

  # Make the current focus fullscreen
  Alt+Return fullscreen

  # Toggle the current focus between tiling and floating mode
  Alt+o floating toggle
  Alt+p sticky toggle

  # Swap focus between the tiling area and the floating area
  Alt+Shift+d focus mode_toggle

  # Move focus to the parent container
  Alt+a focus parent
}

bindsym Alt+r mode "resize"
mode "resize" {
  bindsym {
    h resize shrink width 20px
    j resize grow height 20px
    k resize shrink height 20px
    l resize grow width 20px
    Shift+h resize shrink width 200px
    Shift+j resize grow height 200px
    Shift+k resize shrink height 200px
    Shift+l resize grow width 200px

    # Return to default mode
    Return mode "default"
    Escape mode "default"
  }
}


## Window rules

for_window [title="YouTube Music"] {
  move container to scratchpad
}

for_window [app_id="org.gnome.Calculator"] {
  floating enable
}
for_window [app_id="battop"] {
  floating enable
  resize set width 70 ppt height 70 ppt
}
for_window [app_id="org.twosheds.iwgtk"] {
  floating enable
  resize set width 300 px height 700 px
}
for_window [app_id="org.pulseaudio.pavucontrol"] {
  floating enable
  resize set width 900 px height 900 px
}
for_window [app_id="org.gnome.NautilusPreviewer"] {
  floating enable
}

for_window [title="Picture-in-Picture"] {
  floating enable
  sticky enable
  exec sway-move-to top-right
}


include /etc/sway/config.d/*
