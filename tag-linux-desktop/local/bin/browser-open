#!/usr/bin/env bash

# browser-open opens a different web browser
# depending on the time of day and day of the week.
# During weekday working hours (Monday to Friday, 08:00 to 17:00),
# firefox-developer-edition is opened.
# Otherwise, the librewolf is opened.

work="/usr/lib/firefox-developer-edition/firefox"
personal="/usr/bin/librewolf"
time="$(date +%H:%M)"

if [[ -f "$XDG_CACHE_HOME/browser-open-reverse" ]]; then
  tmp=$work
  work=$personal
  personal=$tmp
fi

if [[ $(date +%u) -le 5 ]] && [[ "$time" > "08:00" ]] && [[ "$time" < "17:00" ]]; then
  $work "$@"
else
  $personal "$@"
fi
